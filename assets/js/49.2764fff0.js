(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{556:function(s,a,e){"use strict";e.r(a);var r=e(2),t=Object(r.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("本文主要介绍Docker安装harbor")])]),s._v(" "),e("h2",{attrs:{id:"harbor介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#harbor介绍"}},[s._v("#")]),s._v(" harbor介绍")]),s._v(" "),e("blockquote",[e("p",[s._v("Docker容器应用的开发和运行离不开可靠的镜像管理，虽然Docker官方也提供了公共的镜像仓库，但是从安全 和效率等方面考虑，部署我们私有环境内的Registry也是非常必要的。Harbor是由VMware公司开源的企业级的 Docker Registry管理项目，它包括权限管理(RBAC)、LDAP、日志审核、管理界面、自我注册、镜像复制和中文 支持等功能。")])]),s._v(" "),e("h2",{attrs:{id:"安装harbor"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装harbor"}},[s._v("#")]),s._v(" 安装Harbor")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ mkdir /home/root/data\n$ cd /home/root/data\n$ wget https://storage.googleapis.com/harbor-releases/release-1.9.0/harbor-offl ine-installer-v1.9.4.tgz\n$ tar xvzf harbor-offline-installer-v1.9.4.tgz\n$ cd harbor\n$ vi harbor.yml\n# The IP address or hostname to access admin UI and registry service.\n# DO NOT use localhost or 127.0.0.1, because Harbor needs to be accessed by ext ernal clients.\n# 自行更改为服务器内部ip\nhostname: 192.168.186.129\n$ ./install.sh\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("p",[e("img",{attrs:{src:"http://www.dachui.live/images/docker/harbor/1.png",alt:""}}),s._v("\n注意:若wget无法下载，请先在开发机访问:https://storage.googleapis.com/harbor-releases/release- 1.9.0/harbor-offline-installer-v1.9.4.tgz。下载完毕后传至服务器即可")]),s._v(" "),e("h2",{attrs:{id:"启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("docker-compose stop\ndocker-compose start\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"登录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[s._v("#")]),s._v(" 登录")]),s._v(" "),e("p",[s._v("地址: http://192.168.186.129 用户名: admin\n密码: Harbor12345")]),s._v(" "),e("ul",[e("li",[s._v("挂载配置文件 创建文件夹 格式为下图")])]),s._v(" "),e("p",[s._v('cat /etc/docker/daemon.json\n{ "insecure-registries":["http://xxx"] }')]),s._v(" "),e("ul",[e("li",[s._v("Harbor修改配置文件如何生效？")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("进入harbor的安装目录\n修改harbor.yml\n./prepare\ndocker-compose down -v\ndocker-compose up -d\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])}),[],!1,null,null,null);a.default=t.exports}}]);